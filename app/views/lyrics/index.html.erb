<div class="container mx-auto py-8">
  <div class="search_ranking_button flex flex-col items-center md:flex-row justify-center md:justify-between mb-4">
    <%= search_form_for @q, method: :get, class: "flex flex-col md:flex-row items-center" do |f| %>
      <%= f.search_field :phrase_cont, placeholder: '歌詞', class: "w-full md:w-auto mb-2 md:mb-0 md:mr-2 px-4 py-2 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" %>
      <%= f.search_field :song_title_cont, placeholder: '曲名', class: "w-full md:w-auto mb-2 md:mb-0 md:mr-2 px-4 py-2 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" %>
      <%= f.search_field :artist_name_cont, placeholder: 'アーティスト名', class: "w-full md:w-auto mb-2 md:mb-0 md:mr-2 px-4 py-2 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" %>
      <%= f.select :feelings_id_eq, options_from_collection_for_select(@feelings, :id, :sort), { include_blank: 'どんな気分？' }, class: "w-full md:w-auto mb-2 md:mb-0 md:mr-2 px-4 py-2 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" %>
      <button class="custom-button mt-4">
        <%= f.submit '検索', class: "w-full md:w-auto px-4 py-2 rounded-lg text-white font-semibold shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" %>
      </button>
    <% end %>
    <button class="custom-button mt-4">
      <%= button_to 'ranking', lyrics_ranking_path, method: :get, class: "w-full md:w-auto px-4 py-2 rounded-lg bg-gray-500 text-white font-semibold shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500" %>
    </button>
  </div>
  <div class="overflow-x-auto">
    <table class="w-full divide-y divide-gray-200">
      <thead class="bg-gray-50">
        <tr>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">歌詞</th>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">詳細</th>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">曲名</th>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">アーティスト名</th>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">聴きたい気分</th>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"></th>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">投稿日時</th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        <% @lyrics.each do |lyric| %>
          <tr>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><%= lyric.phrase %></td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><%= lyric.detail %></td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><%= lyric.song.title %></td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><%= lyric.artist.name %></td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
              <% lyric.feelings.each do |feeling| %>
                <%= feeling.sort %>
              <% end %>
            </td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><%= link_to '詳細', lyric_path(lyric.id) %></td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><%= lyric.created_at.strftime("%Y-%m-%d %H:%M:%S") %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
  <button class="custom-button mt-4">
    <%= button_to "新規投稿", new_lyric_path, class: "w-full px-4 py-2 rounded-lg text-white font-semibold shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" %>
  </button>
</div>